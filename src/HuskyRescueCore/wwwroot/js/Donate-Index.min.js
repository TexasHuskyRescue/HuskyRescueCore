function PaymentType(){var n=$('select[name="BrainTreePayment.PaymentMethod"]').val();switch(n){case"0":braintree.client.create({authorization:$("#clientToken").val()},function(n,t){braintree.dataCollector.create({client:t,kount:!0},function(n,t){if(!n){var i=t.deviceData;$("#BrainTreePayment_DeviceData").val(i)}});braintree.paypal.create({client:t},function(n,t){if(n){console.error("Error creating PayPal:",n);return}paypalButton.removeAttribute("disabled");globalPayPalInstance=t;isPaypalInit=!0;isHostedInit&&(isHostedInit=!1,globalHostedInstance.teardown(function(n){n?console.error("Could not tear down Paypal Fields!",n):console.info("Paypal Fields has been torn down!")}));paypalButton.addEventListener("click",function(){paypalButton.setAttribute("disabled","disabled");var n={flow:"checkout",intent:"sale",currency:"USD",amount:Number(Math.round($("#AmountDonation").val()+"e2")+"e-2").toFixed(2)};console.info("paypal token options",n);t.tokenize(n,function(n,t){if(paypalButton.removeAttribute("disabled"),n){switch(n.code){case"PAYPAL_POPUP_CLOSED":console.error("Customer closed PayPal popup.");break;case"PAYPAL_ACCOUNT_TOKENIZATION_FAILED":console.error("PayPal tokenization failed. See details:",n.details);break;case"PAYPAL_FLOW_FAILED":console.error("Unable to initialize PayPal flow. Are your options correct?",n.details);break;default:console.error("Error!",n)}return}paypalButton.setAttribute("disabled",!0);console.log("Got a nonce! You should submit this to your server.");console.log(t.nonce);document.querySelector('input[name="BrainTreePayment.Nonce"]').value=t.nonce})},!1)})});$("#paypalrow").show();$("#creditcardrow").hide();$("#BrainTreePayment_PayeeAddressStreet1").rules("remove","required");$("#BrainTreePayment_PayeeAddressCity").rules("remove","required");$("#BrainTreePayment_PayeeAddressStateId").rules("remove","required");$("#BrainTreePayment_PayeeAddressPostalCode").rules("remove","required");break;case"1":braintree.client.create({authorization:$("#clientToken").val()},function(n,t){braintree.dataCollector.create({client:t,kount:!0},function(n,t){if(!n){var i=t.deviceData;$("#BrainTreePayment_DeviceData").val(i)}});braintree.hostedFields.create({client:t,styles:{input:{"font-size":"14pt"},"input.invalid":{color:"red"},"input.valid":{color:"green"}},fields:{number:{selector:"#card-number",placeholder:"4111 1111 1111 1111"},cvv:{selector:"#cvv",placeholder:"123"},expirationDate:{selector:"#expiration-date",placeholder:"10 / 2019"}}},function(n,t){if(n){console.error("Hosted Fields Error",n);return}submitBtn.removeAttribute("disabled");globalHostedInstance=t;isHostedInit=!0;isPaypalInit&&(isPaypalInit=!1,globalPayPalInstance.teardown(function(n){n?console.error("Could not tear down Paypal Fields!",n):console.info("Paypal Fields has been torn down!")}));document.getElementById("donateForm").addEventListener("submit",function(n){n.preventDefault();submitBtn.setAttribute("disabled","disabled");t.tokenize(function(n,t){if(submitBtn.removeAttribute("disabled"),n){switch(n.code){case"HOSTED_FIELDS_FIELDS_EMPTY":console.error("All fields are empty! Please fill out the form.");break;case"HOSTED_FIELDS_FIELDS_INVALID":console.error("Some fields are invalid:",n.details.invalidFieldKeys);break;case"HOSTED_FIELDS_FAILED_TOKENIZATION":console.error("Tokenization failed server side. Is the card valid?");break;case"HOSTED_FIELDS_TOKENIZATION_NETWORK_ERROR":console.error("Network error occurred when tokenizing.");break;default:console.error("Something bad happened!",n)}return}document.querySelector('input[name="BrainTreePayment.Nonce"]').value=t.nonce;console.log("Got nonce:",t.nonce);$("#donateForm").submit()})},!1)})});$("#paypalrow").hide();$("#creditcardrow").show();$("#BrainTreePayment_PayeeAddressStreet1").rules("add",{required:!0,messages:{required:"address street required"}});$("#BrainTreePayment_PayeeAddressCity").rules("add",{required:!0,messages:{required:"address city required"}});$("#BrainTreePayment_PayeeAddressStateId").rules("add",{required:!0,messages:{required:"address state required"}});$("#BrainTreePayment_PayeeAddressPostalCode").rules("add",{required:!0,messages:{required:"address ZIP required"}})}}var paypalButton=document.querySelector(".paypal-button"),submitBtn=document.getElementById("submitButton"),globalPayPalInstance={},isPaypalInit=!1,globalHostedInstance={},isHostedInit=!1;$(function(){$(".phone_us").mask("(000) 000-0000");$(".postal").mask("00000");$(".money").mask("00000.00",{reverse:!0});$('select[name="BrainTreePayment.PaymentMethod"]').change(PaymentType);PaymentType()});